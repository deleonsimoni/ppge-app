<div class="container">
    <div class="row justify-content-between">
        <div class="section-header" mat-dialog-title>
            <h2>Administrar - Teses e Dissertações</h2>
        </div>
    </div>

    <div class="row justify-content-center">

        <div class="col-md-12">
            <form role="form" class="reviewer" [formGroup]="form" (ngSubmit)="register()">
                <div class="form-row justify-content-start">
                    <div class="form-group col-md-2">
                        <select class="form-select" aria-label="Selecione o tipo do projeto:" formControlName="tipo">
                            <option value="1">Tese</option>
                            <option value="2">Dissertação</option>
                        </select>
                    </div>

                    <div class="form-group col-md-5">
                        <input type="text" name="ano" class="form-control" id="ano" placeholder="Ano de publicação"
                            formControlName="ano" />
                    </div>

                </div>
                <div class="form-row justify-content-center">
                    <div class="form-group col-md-12">
                        <input type="text" name="autor" class="form-control" id="autor" placeholder="Autor(a)"
                            formControlName="autor" />

                    </div>
                </div>

                <div class="form-row justify-content-center">
                    <div class="form-group col-md-12">
                        <input type="text" name="orientador" class="form-control" id="orientador"
                            placeholder="Orientador(a)" formControlName="orientador" />

                    </div>
                </div>
                <div class="form-row justify-content-center">
                    <div class="form-group col-md-12">
                        <input type="text" name="titulo" class="form-control" id="titulo" placeholder="Título"
                            formControlName="titulo" />

                    </div>
                </div>
                <!-- <div class="form-row justify-content-center">
                    <div class="form-group col-md-12">
                        <input type="text" name="linkTitulo" class="form-control" id="linkTitulo"
                            placeholder="Link do Título" formControlName="linkTitulo" />

                    </div>
                </div> -->
                <div class="form-row justify-content-center">
                    <div class="form-group col-md-12">
                        <angular-editor [placeholder]="'Resumo...'" formControlName="resumo" [(ngModel)]="resumo"
                            [config]="editorConfig"></angular-editor>
                    </div>
                </div>

                <!-- <h4>Palavras-chave</h4>
                <div formArrayName="palavrasChave">
                    <div *ngFor="let contentLine of form.controls['palavrasChave']['controls']; let i = index;">
                        <div class="form-row justify-content-center">
                            <div class="form-group col-md-8">
                                <input type="text" class="form-control" [formControlName]="i"
                                    placeholder="Palavra-chave" />
                            </div>
                            <div class="col-md-4">
                                <button type="button" (click)="removeContentLine(i)" mat-raised-button
                                    color="warn">REMOVER</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row justify-content-start">
                    <div class="col-auto">
                        <button class="add-button" type="button" (click)="addContentLine()" mat-raised-button>Adicionar
                            palavra</button>
                    </div>
                </div> -->

                <div class="row justify-content-end m-4">
                    <button type="submit" mat-raised-button color="primary">
                        Submeter
                    </button>
                </div>
            </form>
        </div>
        <hr>
        <div class="col-md-12 my-5">
            <div class="row mb-5"><h2>Filtro para consulta</h2></div>
            <div class="row mb-3"><input type="text" class="form-control" placeholder="Ano de publicação" [(ngModel)]="searchAno" /></div>
            <div class="row mb-3"><input type="text" class="form-control" placeholder="Orientador(a)" [(ngModel)]="searchOrientador" /></div>
            <div class="row mb-3"><input type="text" class="form-control" placeholder="Autor(a)" [(ngModel)]="searchAutor" /></div>
            <div class="row mb-3"><input type="text" class="form-control" placeholder="Titulo" [(ngModel)]="searchTitulo" /></div>
            <div class="row">
                <div class="col-auto mr-md-3">
                    <button (click)="limparFiltro()" type="button" mat-raised-button color="warn">Limpar filtro</button>
                </div>
                <div class="col-auto">
                    <button (click)="getTesesDissertacoes(tipo)" type="button" mat-raised-button color="primary">Pesquisar</button>                    
                </div>
            </div>
            
        </div>
        <div class="col-md-12" id="teste-2">
            <section id="about" class="about">
                <div class="container">
                    <div class="row text-center" data-aos-delay="200">
                        <!-- Tabs -->
                        <ul class="nav nav-pills mb-3">
                            <li><a class="nav-link active" data-bs-toggle="pill" href="#tab1"
                                    (click)="getPerTipo('1')">Teses</a></li>
                            <li><a class="nav-link" data-bs-toggle="pill" href="#tab2"
                                    (click)="getPerTipo('2')">Dissertações</a></li>
                        </ul><!-- End Tabs -->

                        <!-- Tab Content -->
                        <div class="tab-content">

                            <div class="tab-pane show active" id="tab1">
                                <app-tese-ou-dissertacao [limit]="limit" [datas]="datas" (resposta)="reciverFeedback($event)">
                                </app-tese-ou-dissertacao>
                            </div><!-- End Tab 1 Content -->

                            <div class="tab-pane show" id="tab2">
                                <app-tese-ou-dissertacao [limit]="limit" [datas]="datas" (resposta)="reciverFeedback($event)">
                                </app-tese-ou-dissertacao>
                            </div><!-- End Tab 2 Content -->

                            
                            <!-- <app-pagination 
                                *ngIf="listUsers.length > 0 || page > 1" 
                                [page]="page" 
                                [qtdItems]="listUsers.length" 
                                [limit]="limit"
                                (onPagination)="onPagination($event)">
                            </app-pagination> -->
                            
                            <app-pagination 
                                *ngIf="datas.length > 0 || page > 1" 
                                [page]="page" 
                                [qtdItems]="datas.length" 
                                [limit]="limit"
                                [qtdTotalItems]="qtdTotalItems"
                                (onPagination)="onPagination($event)">
                            </app-pagination>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>