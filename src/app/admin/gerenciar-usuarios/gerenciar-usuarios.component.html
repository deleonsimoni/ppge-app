<div class="container mb-5 pb-5">
  <div class="row justify-content-between">
    <div class="section-header" mat-dialog-title>
      <h2>Gerenciar Usuários</h2>
    </div>
  </div>

  <div class="row">
    <div class="col-12">
      <form role="form" class="reviewer" [formGroup]="form" (ngSubmit)="pesquisarUsuarios()">

        <div class="form-row justify-content-center">
          <div class="form-group col-md-12">
            <h4>Pesquisar pelo nome ou email</h4>
            <input type="text" class="form-control" placeholder="Pesquisar pelo nome ou email"
              formControlName="nameSearch" />
          </div>
        </div>

        <div class="row justify-content-end m-4">
          <button type="submit" mat-raised-button color="primary">
            Pesquisar
          </button>
        </div>

      </form>
    </div>
  </div>
  <div *ngFor="let user of listUsers; let i = index">
    <div *ngIf="i < limit" class="row justify-content-between mb-3 px-2 card-parecerista">
      <div class="col-md-1 pt-3 pb-2">
        <p class="m-0 title">Admin?</p>
        <mat-checkbox class="example-margin" [checked]="user.roles.indexOf('admin') > -1"
          (click)="addAdmin($event, user._id, user.fullname)">Sim</mat-checkbox>
      </div>
      <div class="col-md-3 pt-3 pb-2">
        <p class="m-0 title">Nome: </p>
        <p>{{user.fullname}}</p>
      </div>
      <div class="col-md-4 pt-3 pb-2">
        <p class="m-0 title">Email: </p>
        <p>{{user.email}}</p>
      </div>
      <div class="col-md-2 pt-3 pb-2">
        <p class="m-0 title">Permissões: </p>
        <p>{{getTextListRoles(user.roles)}}</p>
      </div>
      <div class="col-md-1 pt-3 pb-2">
        <p class="m-0 title">Ações: </p>
        <p><span matTooltip="Visualizar" matTooltipPosition="above" class="material-icons md-18 btn"
            (click)="visualizarUsuario(user)">preview</span></p>
      </div>
    </div>
  </div>
  <app-pagination *ngIf="listUsers.length > 0 || page > 1" [page]="page" [qtdItems]="listUsers.length" [limit]="limit"
    (onPagination)="onPagination($event)">
  </app-pagination>
</div>